
前端负责连接钱包，当前网络不是币安智能链时自动发起切换网络的交互，同时**监听**网络切换、账号切换等事件并触发相应的交互逻辑。
- 网络切换时给出提示信息并登出当前账户；
- 账号切换时给出提示信息。

鉴权：
1. 用户连接钱包后，触发插件钱包对盐值和当前时间戳签名；
    - 盐值由后端接口返回。
2. 调用后端接口申请 token，请求参数由签名结果、时间戳、用户公钥；
3. 后端执行验签，验签通过返回一个有过期时间的 token 给前端，前端后续请求都带上 token 表明身份。
    <!-- - [ ] access token 的更新逻辑，过期时间多久，refresh_token 保存 -->

JSON Web Token：服务端指定密钥，利用 HMAC SHA256 算法计算出签名（通过 XOR 和 hash 运算），拼成 JWT 返回给前端。
- 优点：实现简单，服务端不用维护 token；  
- 缺点：颁发的 token 无法废止。

> [JWT 简介](https://blog.hofungkoeng.com/post/buildingblock/protocol/jwt/)

涉及更新世界状态的交互逻辑：
1. 前端调用插件钱包发起交易，获得 tx id；
2. 前端将 tx id 和其它交易中包含的参数发给后端对应的接口；
    - 前端不去监听链上的事件，数据源以后端为准
3. 后端响应请求，将加上 pending 状态的请求数据返回给前端；
4. 前端根据请求所处的不同阶段渲染 loading 状态、更新展示的数据。

框架和工具库：
- React
- Ether.js（与插件钱包交互）



<!-- 参数类型分类： -->


<!-- 路由权限 -->